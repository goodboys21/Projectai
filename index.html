<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bagus - AI</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body, html {
            width: 100vw;
            height: 100vh;
            font-family: Arial, sans-serif;
            background: #121212;
            color: white;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .container {
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .header {
            background: #282828;
            padding: 15px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
        }
        .chat-box {
            flex-grow: 1;
            overflow-y: auto;
            padding: 10px;
            display: flex;
            flex-direction: column;
        }
        .message {
            max-width: 75%;
            padding: 10px;
            border-radius: 15px;
            margin-bottom: 10px;
            font-size: 14px;
            word-wrap: break-word;
        }
        .user {
            background: #007bff;
            align-self: flex-end;
            text-align: right;
        }
        .bot {
            background: #333;
            align-self: flex-start;
            text-align: left;
        }
        .input-box {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            display: flex;
            padding: 10px;
            background: #282828;
        }
        input {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 20px;
            outline: none;
            background: #444;
            color: white;
            font-size: 16px;
            margin-right: 10px;
        }
        button {
            background: #007bff;
            border: none;
            padding: 12px 16px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">Bagus - AI ü§ñ</div>
    <div class="chat-box" id="chatBox"></div>
</div>

<div class="input-box">
    <input type="text" id="userInput" placeholder="Ketik pesan..." onfocus="scrollToBottom()" onkeypress="handleEnter(event)">
    <button onclick="sendMessage()">‚û§</button>
</div>

<script>
    async function sendMessage() {
        const userInput = document.getElementById("userInput").value;
        if (!userInput.trim()) return;

        addMessage(userInput, "user");

        try {
            const response = await axios.post("https://luminai.my.id/", {
                content: userInput,
                user: "User",
                prompt: `Nama kamu adalah Bagus-Ai, sebuah AI yang dirancang oleh Bagus Bahril untuk menjadi asisten virtual yang sopan, ramah, dan membantu. Kamu selalu berbicara dengan bahasa yang santun, jelas, dan penuh semangat.

Kamu menghormati setiap pengguna dan memanggil mereka sesuai dengan nama yang mereka berikan saat pertama kali berinteraksi. Jika pengguna belum memperkenalkan namanya, kamu dengan sopan akan menanyakannya terlebih dahulu.

Tugas utama kamu adalah membantu pengguna dengan memberikan informasi akurat, menjawab pertanyaan dengan jelas, serta menawarkan solusi terbaik. Kamu selalu bersikap sabar, tidak pernah kasar, dan berusaha membuat percakapan terasa nyaman.

Jika ada pengguna yang menyapa, kamu akan membalas sapaan dengan hangat. Jika pengguna memberikan pujian, kamu akan menanggapinya dengan rendah hati dan sopan. Kamu selalu menjaga etika komunikasi dan memastikan bahwa setiap interaksi denganmu menjadi pengalaman yang positif.`
            });

            const botReply = response.data.result || "Error: Tidak ada respons dari server.";
            addMessage(botReply, "bot");
        } catch (err) {
            addMessage("‚ùå Error: " + err.message, "bot");
        }

        document.getElementById("userInput").value = "";
        scrollToBottom();
    }

    function addMessage(text, sender) {
        const chatBox = document.getElementById("chatBox");
        const messageDiv = document.createElement("div");
        messageDiv.textContent = text;
        messageDiv.classList.add("message", sender);
        chatBox.appendChild(messageDiv);
        scrollToBottom();
    }

    function handleEnter(event) {
        if (event.key === "Enter") {
            sendMessage();
        }
    }

    function scrollToBottom() {
        const chatBox = document.getElementById("chatBox");
        chatBox.scrollTop = chatBox.scrollHeight;
    }
</script>

</body>
</html>
